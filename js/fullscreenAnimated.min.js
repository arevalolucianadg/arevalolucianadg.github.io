!function(n,e){n.fn.impulse=function(t){var i,a,o,r,u=n.extend({},n.fn.impulse.default,t),c=n(e),s=this,h=n(u.target),f={},l=[],d={},m=[],p=[],v=[],g=[],w="requestAnimationFrame",M=n.extend({novel:w in e,turned:0},u);return function(){var t=n();h.length||(M.crux=!0,h=s);h.each(function(){n.zenith(this)?M.main||(M.novel?M.main=e:M.main=function(){var e=c.scrollTop();if(c.scrollTop(1),n("html").scrollTop())var t="html";else t=n("body").scrollTop()?"body":"html, body";return c.scrollTop(e),t}(),t=t.add(M.main)):t=t.add(this)}),M.target=h=t,h.each(function(e){n.zenith(this)?f[e]="hub":f[e]="sub"}),M.crux&&M.main&&(s=h);E()}(),s.each(function(t){M=n.extend({},M),n(this).data("impulse",M).on("wheel.excite",function(u,c){if(M.keen||u.mien){if(u.mien){d=n.extend({},M,c),M.annul=1==d.delay;var s=u.mien;d.fluid=!1}else{if(M.annul)return;d=M,s=u.originalEvent.deltaY}s/=Math.abs(s),M.crux?(i=n(this),m[0]=l[t]):(i=h,m=l),n.each({range:"orbit",tempo:"pace"},function(n,e){"function"==typeof d[n]?d[e]=d[n]():d[e]=d[n]}),s!=M.zeal||u.mien?M.turned=1:M.turned=Math.min(M.curb,M.turned+1),a=!d.delay&&d.fluid&&1==M.turned?"curve":d.effect,o=s*d.orbit*Math.pow(M.leap,M.turned-1),r=d.pace*Math.pow(M.sloth,M.turned-1)||1,M.zeal=s,i.each(function(e){p[e]=n(this).scrollTop(),g[e]=p[e]+o,v[e]=y(this,e,p[e])}),M.waive=z(),o||(r=1),M.novel?(M.motion?(cancelAnimationFrame(M.motion),M.initial=M.present):M.initial=Date.now(),M.motion=e[w](b)):i.each(function(e){v[e]||n(this).stop().animate({scrollTop:g[e]},{duration:r,easing:a,progress:function(n,t){x(this,e,t)},complete:T})})}}),this.addEventListener("wheel",function(n){if(M.keen){if(M.annul)return O(n);1!=d.delay||M.waive||(M.annul=!0),M.waive&&M.occur||O(n)}},!!function(){var n=!1,t=function(){};try{var i=Object.defineProperty({},"passive",{get:function(){n=!0}});e.addEventListener("test",t,i),e.removeEventListener("test",t,i)}catch(n){}return n}()&&{passive:!1})}),n.easing.curve=n.easing.easeInOutSine,c.resize(function(){clearTimeout(M.bound),M.bound=setTimeout(E,100)}),this;function b(){M.present=Date.now();var t=Math.min(M.present-M.initial,r)/r,u=n.easing[a](t);i.each(function(e){v[e]||(n(this).scrollTop(p[e]+u*o),x(this,e,t))}),t<1&&!M.waive?M.motion=e[w](b):T()}function x(e,t,i){100*i>=d.reset&&(M.turned=0),y(e,t)&&(v[t]=!0,M.novel||n(e).stop(!0,!0),M.waive=z())}function y(e,t,i){var a=Math.round(i||n(e).scrollTop()),o=g[t]<0&&!a,r=g[t]>m[t]&&a==m[t]&&d.orbit>0;return o||r}function z(){return v.every(function(n){return n})}function T(){M.turned=M.annul=M.motion=0}function O(n){n.preventDefault(),n.stopPropagation()}function E(){h.each(function(e){if("hub"==f[e])var t=n(document).height()-c.height();else t=this.scrollHeight-n(this).height();l[e]=Math.round(t)})}},n.zenith=function(t){var i,a=[e,document,"HTML","BODY"];return t?a.indexOf(t)>-1||a.indexOf(t.tagName)>-1:(n.each(a,function(e,t){if(i=n(t).data("impulse"))return!1}),i)},n.fn.impulse.default={target:"",range:135,leap:1.35,tempo:500,sloth:1.1,curb:5,reset:85,effect:"easeOutSine",keen:!0,delay:!1,occur:!0,fluid:!0},n.fn.demit=function(){return this.each(function(){if(n.zenith(this))var e=n.zenith();else e=n(this).data("impulse");e&&(e.novel?cancelAnimationFrame(e.motion):e.target.stop(),e.turned=e.annul=e.motion=0)})},n.fn.amend=function(e){return this.each(function(){if(n.zenith(this))var t=n.zenith();else t=n(this).data("impulse");t&&n.each(e,function(n,e){n in t&&(t[n]=e)})})},n.fn.evoke=function(e){var t,i=n.Event("wheel.excite",{mien:!0});return this.each(function(){n.zenith(this)?t||(t=n.zenith())&&n(t.main).trigger(i,e):n(this).trigger(i,e)})}}(jQuery,window),function(n){var e={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,t){e[t]=function(e){return Math.pow(e,n+2)}}),n.extend(e,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return 0===n||1===n?n:-Math.pow(2,8*(n-1))*Math.sin((80*(n-1)-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var e,t=4;n<((e=Math.pow(2,--t))-1)/11;);return 1/Math.pow(4,3-t)-7.5625*Math.pow((3*e-2)/22-n,2)}}),n.each(e,function(e,t){n.easing["easeIn"+e]=t,n.easing["easeOut"+e]=function(n){return 1-t(1-n)},n.easing["easeInOut"+e]=function(n){return n<.5?t(2*n)/2:1-t(-2*n+2)/2}})}(jQuery);